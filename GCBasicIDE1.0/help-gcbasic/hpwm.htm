<html><head>
   <title>HPWM</title>
   <meta name="generator"  content="HelpMaker.net" >
   <meta name="keywords"  content="PWM Overview," ></head>
<body bgcolor="FFFCEA" >
<table width="100%"  border="0"  cellspacing="0"  cellpadding="2"  bgcolor="C0C0C0" >
  <tr>
    <td align="left" >
      <div align="left" ><font face="Arial"  size="4" ><span style="font-size:14pt" >HPWM</span></font><font color="#010101" ></font></div>

    </td>
    <td align="right" >
      <font face="Arial"  size="2" >
        <a href="pwmon.htm">Previous</a>&nbsp;&nbsp;<a href="overview_random.htm">Next</a>
      </font>
    </td>
  </tr></table>
<hr><div align="left" ><font face="Arial" ><span style="font-size:12pt" ><b>Syntax:&nbsp;&nbsp;&nbsp;&nbsp;</b></span></font><font color="#010101" ></font></div><div align="left" ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >&nbsp;&nbsp;&nbsp;&nbsp;HPWM <i>channel, frequency, duty cycle</i></span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font face="Arial" ><span style="font-size:12pt" ><b>Command Availability:</b></span></font><font color="#010101" ></font></div><div align="left"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" >Only available on PIC microcontrollers with Capture/Compare/PWM 
(CCP) module.</span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Explanation:</b></span></font><font color="#010101" ></font></div><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><font face="Arial"  color="#010101" ><span style="font-size:12pt" > This command sets up the hardware PWM module of the PIC chip to 
generate a PWM waveform of the given frequency and duty cycle. 
Once this command is called, the PWM will be emitted until PWMOff is 
called. If you only need one particular frequency and duty cycle, you 
should use PWMOn and the constants PWM_Freq and PWM_Duty 
instead.</span></font><font color="#010101" ></font></div><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" > <i>channel </i>is 1 or 2, and corresponds to the pins CCP1 and CCP2 
respectively. On chips with only one CCP port, pin CCP or CCP1 is 
always used, and <i>channel</i> is ignored. (It should be set to 1 anyway to 
allow for future upgrades to more powerful PIC chips.)</span></font><font color="#010101" ></font></div><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><i>frequency</i> sets the frequency of the PWM output. It is measured in 
KHz. The maximum value allowed is 255 KHz. The minimum value 
varies depending on the clock speed. 1 KHz is the minimum on chips 
16 MHz or under and 2 Khz is the lowest possible on 20 MHz chips. In 
situations that do not require a specific PWM frequency, the PWM 
frequency should equal approximately 1 five-hundredth the clock 
speed of the PIC (ie 40 Khz on a 20 MHz chip, 16 KHz on an 8 MHz 
chip). This gives the best duty cycle resolution possible.</span></font><font color="#010101" ></font></div><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ><br></div><font color="#010101" ><div align="justify"  style="margin-left:13mm; margin-right:0mm; text-indent:0mm; " ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><i>duty cycle</i> specifies the desired duty cycle of the PWM signal, and 
ranges from 0 to 255 where 255 is 100% duty cycle.</span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>Example:</b></span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;'This program will alter the brightness of an LED using</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;'hardware PWM.</span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;'Select chip model and speed</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;#chip 16F877A, 20</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;'Set the CCP1 pin to output mode</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;DIR PORTC.2 out</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;'Main code</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;&nbsp;&nbsp;&nbsp;</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Turn up brightness over 2.5 seconds</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For Bright = 1 to 255</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HPWM 1, 40, Bright</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait 10 ms</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Turn down brightness over 2.5 seconds</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For Bright = 255 to 1</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HPWM 1, 40, Bright</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait 10 ms</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next</span></font><font color="#010101" ></font></div><div align="left" ><font face="Terminal"  color="#010101" ><span style="font-size:10pt" >&nbsp;&nbsp;&nbsp;&nbsp;loop</span></font><font color="#010101" ></font></div><div align="left" ><br></div><font color="#010101" ><div align="left" ></font><font face="Arial"  color="#010101" ><span style="font-size:12pt" ><b>For more help, see </b></span></font><a href="pwmoff.htm"><font face="Arial"  color="#0000ff" ><span style="font-size:12pt" ><u>PWMOff</u></span></font></a><font color="#010101" ></font></div>

</html>
